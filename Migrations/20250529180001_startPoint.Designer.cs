// <auto-generated />
using System;
using DiplomAPI.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace DiplomAPI.Migrations
{
    [DbContext(typeof(dbContact))]
    [Migration("20250529180001_startPoint")]
    partial class startPoint
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.15")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("DiplomAPI.Models.db.BalanceHistory", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("Date")
                        .HasColumnType("datetime2");

                    b.Property<double>("Money")
                        .HasColumnType("float");

                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("BalanceHistory");
                });

            modelBuilder.Entity("DiplomAPI.Models.db.News", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Body")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("HeadLine")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("date")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.ToTable("News");
                });

            modelBuilder.Entity("Diplom_Utkin.Model.DataBase.TypeOfRequest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("TypeRequest");
                });

            modelBuilder.Entity("Finansu.Model.Brokers", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("BusinessAddress")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("FullNameOfTheDirector")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<long>("INN")
                        .HasColumnType("bigint");

                    b.Property<bool>("IsClosing")
                        .HasColumnType("bit");

                    b.Property<long>("KPP")
                        .HasColumnType("bigint");

                    b.Property<string>("NameBroker")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<long>("OKTMO")
                        .HasColumnType("bigint");

                    b.Property<string>("Password")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Phone")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SourseFile")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("TypeOfRequestId")
                        .HasColumnType("int");

                    b.Property<int>("UrisidikciiyId")
                        .HasColumnType("int");

                    b.Property<DateOnly>("dateSubmitted")
                        .HasColumnType("date");

                    b.Property<bool>("isAdmitted")
                        .HasColumnType("bit");

                    b.HasKey("Id");

                    b.HasIndex("TypeOfRequestId");

                    b.HasIndex("UrisidikciiyId");

                    b.ToTable("Brokers");
                });

            modelBuilder.Entity("Finansu.Model.DvizhenieSredstv", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("Date")
                        .HasColumnType("datetime2");

                    b.Property<int>("InvestToolsId")
                        .HasColumnType("int");

                    b.Property<double>("Money")
                        .HasColumnType("float");

                    b.Property<int>("Quentity")
                        .HasColumnType("int");

                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("InvestToolsId");

                    b.HasIndex("UserId");

                    b.ToTable("dvizhenieSredstvs");
                });

            modelBuilder.Entity("Finansu.Model.InvestToolHistory", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("DataIzmrneniiy")
                        .HasColumnType("datetime2");

                    b.Property<int>("InvestToolsId")
                        .HasColumnType("int");

                    b.Property<double>("Price")
                        .HasColumnType("float");

                    b.Property<double>("Quentity")
                        .HasColumnType("float");

                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("InvestToolsId");

                    b.HasIndex("UserId");

                    b.ToTable("InvestToolHistory");
                });

            modelBuilder.Entity("Finansu.Model.InvestTools", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("BrokersId")
                        .HasColumnType("int");

                    b.Property<string>("ImageSource")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("NameInvestTool")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("Price")
                        .HasColumnType("float");

                    b.Property<bool>("isClosed")
                        .HasColumnType("bit");

                    b.Property<bool>("isFrozen")
                        .HasColumnType("bit");

                    b.HasKey("Id");

                    b.HasIndex("BrokersId");

                    b.ToTable("InvestTools");
                });

            modelBuilder.Entity("Finansu.Model.Portfolio", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.Property<int>("InvestToolId")
                        .HasColumnType("int");

                    b.Property<double>("AllManey")
                        .HasColumnType("float");

                    b.Property<int>("Quentity")
                        .HasColumnType("int");

                    b.HasKey("UserId", "InvestToolId");

                    b.HasIndex("InvestToolId");

                    b.ToTable("Portfolio");
                });

            modelBuilder.Entity("Finansu.Model.TypeOfUser", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("typeOfUser");
                });

            modelBuilder.Entity("Finansu.Model.Urisidikciiy", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("IsClosing")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("Urisidikciiy");
                });

            modelBuilder.Entity("Finansu.Model.User", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Loggin")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("Maney")
                        .HasColumnType("float");

                    b.Property<string>("PaswordHash")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Phone")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("TypeOfUserId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("TypeOfUserId");

                    b.ToTable("User");
                });

            modelBuilder.Entity("DiplomAPI.Models.db.BalanceHistory", b =>
                {
                    b.HasOne("Finansu.Model.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Finansu.Model.Brokers", b =>
                {
                    b.HasOne("Diplom_Utkin.Model.DataBase.TypeOfRequest", "TypeOfRequest")
                        .WithMany()
                        .HasForeignKey("TypeOfRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Finansu.Model.Urisidikciiy", "Urisidikciiy")
                        .WithMany()
                        .HasForeignKey("UrisidikciiyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("TypeOfRequest");

                    b.Navigation("Urisidikciiy");
                });

            modelBuilder.Entity("Finansu.Model.DvizhenieSredstv", b =>
                {
                    b.HasOne("Finansu.Model.InvestTools", "InvestTools")
                        .WithMany()
                        .HasForeignKey("InvestToolsId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Finansu.Model.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("InvestTools");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Finansu.Model.InvestToolHistory", b =>
                {
                    b.HasOne("Finansu.Model.InvestTools", "InvestTools")
                        .WithMany()
                        .HasForeignKey("InvestToolsId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Finansu.Model.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("InvestTools");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Finansu.Model.InvestTools", b =>
                {
                    b.HasOne("Finansu.Model.Brokers", "Brokers")
                        .WithMany()
                        .HasForeignKey("BrokersId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Brokers");
                });

            modelBuilder.Entity("Finansu.Model.Portfolio", b =>
                {
                    b.HasOne("Finansu.Model.InvestTools", "InvestTool")
                        .WithMany()
                        .HasForeignKey("InvestToolId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Finansu.Model.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("InvestTool");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Finansu.Model.User", b =>
                {
                    b.HasOne("Finansu.Model.TypeOfUser", "TypeOfUser")
                        .WithMany()
                        .HasForeignKey("TypeOfUserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("TypeOfUser");
                });
#pragma warning restore 612, 618
        }
    }
}
